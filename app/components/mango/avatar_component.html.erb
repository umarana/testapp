<% if @source.present? %>
  <%= tag.image(
    nil, 
    src: @source, 
    alt: @name, 
    class: class_names(
      SIZE_MAPPINGS[fetch_or_fallback(SIZE_OPTIONS, @size, SIZE_DEFAULT)],
      SHAPE_MAPPINGS[fetch_or_fallback(SHAPE_OPTIONS, @shape, SHAPE_DEFAULT)],
      BORDERED_MAPPINGS[@bordered],
      @system_arguments[:classes]
    )
  ) %>
<% elsif @placeholder %>
  <div class="relative <%= SIZE_MAPPINGS[fetch_or_fallback(SIZE_OPTIONS, @size, SIZE_DEFAULT)] %> overflow-hidden bg-primary-100 rounded-full dark:bg-primary-600">
    <svg class="absolute w-12 h-12 text-primary-400 -left-1" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path>
    </svg>
  </div>
<% elsif @initials.present? %>
  <div class="relative inline-flex items-center justify-center <%= SIZE_MAPPINGS[fetch_or_fallback(SIZE_OPTIONS, @size, SIZE_DEFAULT)] %> overflow-hidden bg-primary-100 rounded-full dark:bg-primary-600">
    <span class="font-medium text-primary-600 dark:text-primary-300"><%= @initials %></span>
  </div>
<% end %>
